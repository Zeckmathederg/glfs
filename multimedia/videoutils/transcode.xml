<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY transcode-download-http "https://bitbucket.org/france/transcode-tcforge/downloads/transcode-&transcode-version;.tar.bz2">
  <!ENTITY transcode-download-ftp  "&gentoo-ftp-repo;/transcode-&transcode-version;.tar.bz2">
  <!ENTITY transcode-md5sum        "9bb25a796a8591fb764de46ee87ce505">
  <!ENTITY transcode-size          "2.1 MB">
  <!ENTITY transcode-buildsize     "55 MB">
  <!ENTITY transcode-time          "1.0 SBU">
]>

<sect1 id="transcode" xreflabel="Transcode-&transcode-version;">
  <?dbhtml filename="transcode.html"?>

  <sect1info>
    <othername>$LastChangedBy$</othername>
    <date>$Date$</date>
  </sect1info>

  <title>Transcode-&transcode-version;</title>

  <indexterm zone="transcode">
    <primary sortas="a-Transcode">Transcode</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction to Transcode</title>

    <para>
      <application>Transcode</application> is a fast, versatile and
      command-line based audio/video everything to everything converter.
      For a rundown of the features and capabilities, along with usage
      examples, visit the Transcode Wiki at
      <ulink url="http://www.transcoding.org/"/>.
    </para>

    &lfs72_checked;

    <bridgehead renderas="sect3">Package Information</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Download (HTTP): <ulink url="&transcode-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Download (FTP): <ulink url="&transcode-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Download MD5 sum: &transcode-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Download size: &transcode-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimated disk space required: &transcode-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimated build time: &transcode-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Additional Downloads</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Required patch:
          <ulink url="&patch-root;/transcode-&transcode-version;-ffmpeg-1.patch"/>
          : Note that although this allows <application>transcode</application>
          to compile with current <application>ffmpeg</application>, it fails if
          it calls ffmpeg at runtime, e.g. for certain format conversions.  The
	  remaining parts of the application, such as <command>tccat</command>,
          work and <command>ffmpeg</command> can be invoked outside of
          <command>transcode</command> if needed.
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Transcode Dependencies</bridgehead>

    <bridgehead renderas="sect4">Required</bridgehead>
    <para role="required">
      <xref linkend="ffmpeg"/>
    </para>

    <bridgehead renderas="sect4">Recommended</bridgehead>
    <para role="recommended">
      <xref linkend="alsa-lib"/>,
      <xref linkend="lame"/>,
      <xref linkend="libmpeg2"/> and
      <xref linkend="xorg7-lib"/>
    </para>

    <bridgehead renderas="sect4">Optional</bridgehead>
    <para role="optional">
      <xref linkend="faac"/>,
      <xref linkend="freetype2"/>,
      <xref linkend="imagemagick"/>,
      <xref linkend="liba52"/>,
      <xref linkend="libdv"/>,
      <xref linkend="libdvdread"/>,
      <xref linkend="libjpeg"/>,
      <xref linkend="libogg"/>,
      <xref linkend="libquicktime"/>,
      <xref linkend="libtheora"/>,
      <xref linkend="libvorbis"/>,
      <xref linkend="libxml2"/>,
      <xref linkend="LZO"/>,
      <ulink url="http://mjpeg.sourceforge.net/">MJPEG Tools</ulink>,
      <ulink url="http://www.netlib.org/pvm3/">PVM3</ulink>,
      <xref linkend="sdl"/>,
      <ulink url="http://linuxtv.org/downloads/v4l-utils/">Video4Linux</ulink>,
      <ulink url="http://www.videolan.org/developers/x264.html">x264</ulink> and
      <xref linkend="xvid"/>
    </para>

    <para condition="html" role="usernotes">User Notes:
      <ulink url="&blfs-wiki;/transcode"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Installation of Transcode</title>

    <para>
      Install <application>Transcode</application> by running the following
      commands:
    </para>

<screen><userinput>sed -i 's|doc/transcode|&amp;-$(PACKAGE_VERSION)|' \
       $(find . -name Makefile.in -exec grep -l 'docsdir =' {} \;) &amp;&amp;
patch -Np1 -i ../transcode-&transcode-version;-ffmpeg-1.patch &amp;&amp;
./configure --prefix=/usr \
            --enable-alsa \
            --enable-libmpeg2 &amp;&amp;
make</userinput></screen>

    <para>
      This package does not come with a test suite.
    </para>

    <para>
      Now, as the <systemitem class="username">root</systemitem> user:
    </para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Command Explanations</title>

    <para>
      <command>sed -i ...</command>: Fixes install location for documentation.
    </para>

    <para>
      Support for most of the dependency packages requires using
      options passed to the <command>configure</command> script. View the
      <filename>INSTALL</filename> file and the output from
      <command>./configure --help</command> for complete information about
      enabling dependency packages.
    </para>

  </sect2>

  <sect2 role="content">
    <title>Contents</title>

    <segmentedlist>
      <segtitle>Installed Programs</segtitle>
      <segtitle>Installed Directories</segtitle>

      <seglistitem>
        <seg>
          avifix, aviindex, avimerge, avisplit, avisync, tccat, tcdecode, 
          tcdemux, tcextract, tcmodinfo, tcmp3cut, tcprobe, tcscan, tcxmlcheck, 
          tcxpm2rgb, tcyait and transcode
        </seg>
        <seg>
          /usr/lib/transcode and /usr/share/doc/transcode-&transcode-version;
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="avifix">
        <term><command>avifix</command></term>
        <listitem>
          <para>
            fixes the header of an AVI file.
          </para>
          <indexterm zone="transcode avifix">
            <primary sortas="b-avifix">avifix</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="aviindex">
        <term><command>aviindex</command></term>
        <listitem>
          <para>
            writes a text file describing the index of an AVI file.
          </para>
          <indexterm zone="transcode aviindex">
            <primary sortas="b-aviindex">aviindex</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="avimerge">
        <term><command>avimerge</command></term>
        <listitem>
          <para>
            merges AVI files of the same format. Do not try to merge AVI
            files of different formats, it will most likely result in errors
            (and format means same bitrates, too!).
          </para>
          <indexterm zone="transcode avimerge">
            <primary sortas="b-avimerge">avimerge</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="avisplit">
        <term><command>avisplit</command></term>
        <listitem>
          <para>
            splits AVI files into multiple files.
          </para>
          <indexterm zone="transcode avisplit">
            <primary sortas="b-avisplit">avisplit</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="avisync">
        <term><command>avisync</command></term>
        <listitem>
          <para>
            can shift audio in AVI files for better synchronizing
            of the audio and video data signal.
          </para>
          <indexterm zone="transcode avisync">
            <primary sortas="b-avisync">avisync</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tccat">
        <term><command>tccat</command></term>
        <listitem>
          <para>
            concatenates input files using the input plugins of
            <application>Transcode</application>.
          </para>
          <indexterm zone="transcode tccat">
            <primary sortas="b-tccat">tccat</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcdecode">
        <term><command>tcdecode</command></term>
        <listitem>
          <para>
            is used to decode input files to raw video and PCM
            audio streams.
          </para>
          <indexterm zone="transcode tcdecode">
            <primary sortas="b-tcdecode">tcdecode</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcdemux">
        <term><command>tcdemux</command></term>
        <listitem>
          <para>
            demultiplexes (separates) audio/video input that contains
            multiple streams, e.g., VOB files.
          </para>
          <indexterm zone="transcode tcdemux">
            <primary sortas="b-tcdemux">tcdemux</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcextract">
        <term><command>tcextract</command></term>
        <listitem>
          <para>
            grabs single streams from a file containing multiple streams.
          </para>
          <indexterm zone="transcode tcextract">
            <primary sortas="b-tcextract">tcextract</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcmodinfo">
        <term><command>tcmodinfo</command></term>
        <listitem>
          <para>
            loads a supplied <application>Transcode</application> filter
            module and prints its parameters.
          </para>
          <indexterm zone="transcode tcmodinfo">
            <primary sortas="b-tcmodinfo">tcmodinfo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcmp3cut">
        <term><command>tcmp3cut</command></term>
        <listitem>
          <para>
            is a tool which can cut MP3 streams at milliseconds
            positions.
          </para>
          <indexterm zone="transcode tcmp3cut">
            <primary sortas="b-tcmp3cut">tcmp3cut</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcprobe">
        <term><command>tcprobe</command></term>
        <listitem>
          <para>
            prints information about the input file format.
          </para>
          <indexterm zone="transcode tcprobe">
            <primary sortas="b-tcprobe">tcprobe</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcscan">
        <term><command>tcscan</command></term>
        <listitem>
          <para>
            performs several measurements on the given input data.
          </para>
          <indexterm zone="transcode tcscan">
            <primary sortas="b-tcscan">tcscan</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tcxmlcheck">
        <term><command>tcxmlcheck</command></term>
        <listitem>
          <para>
            checks information in a SMIL input file.
          </para>
          <indexterm zone="transcode tcxmlcheck">
            <primary sortas="b-tcxmlcheck">tcxmlcheck</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="transcode-prog">
        <term><command>transcode</command></term>
        <listitem>
          <para>
            is the encoder's user interface that handles the plugins and other
            programs, being the glue between the modules. There are several
            well documented usage examples on both the homepage and the
            documentation included in the package.
          </para>
          <indexterm zone="transcode transcode-prog">
            <primary sortas="b-transcode">transcode</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
